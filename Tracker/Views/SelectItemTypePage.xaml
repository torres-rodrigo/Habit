<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Tracker.Views.SelectItemTypePage"
             BackgroundColor="#80000000">
    
    <!-- Transparent background with gesture to dismiss -->
    <Grid>
        <Grid.GestureRecognizers>
            <TapGestureRecognizer Command="{Binding CancelCommand}"/>
        </Grid.GestureRecognizers>
        
        <!-- Modal popup container -->
        <Border WidthRequest="400"
                HeightRequest="380"
                BackgroundColor="White"
                StrokeThickness="0"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                Shadow="{Shadow Brush=Black, Opacity=0.3, Radius=20, Offset='0,10'}">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="16"/>
            </Border.StrokeShape>
            
            <Grid RowDefinitions="Auto,*,Auto" Padding="0">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer />
                </Grid.GestureRecognizers>
                
                <!-- Header -->
                <Grid Grid.Row="0" Padding="24,20" ColumnDefinitions="*,Auto">
                    <Label Grid.Column="0"
                           Text="Create New" 
                           FontSize="22" 
                           FontAttributes="Bold"
                           TextColor="#212121"
                           VerticalOptions="Center"/>
                    <Button Grid.Column="1"
                            Text="âœ•"
                            Command="{Binding CancelCommand}"
                            BackgroundColor="Transparent"
                            TextColor="#757575"
                            FontSize="24"
                            Padding="8"
                            WidthRequest="40"
                            HeightRequest="40"/>
                </Grid>
                
                <!-- Options -->
                <VerticalStackLayout Grid.Row="1" Spacing="12" Padding="20,0" VerticalOptions="Center">
                    <Border BackgroundColor="#F8F9FA"
                            Stroke="#E0E0E0"
                            StrokeThickness="1"
                            Padding="0">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12"/>
                        </Border.StrokeShape>
                        <Grid ColumnDefinitions="60,*,40" Padding="20,20">
                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding NavigateToHabitCommand}"/>
                            </Grid.GestureRecognizers>
                            
                            <Frame Grid.Column="0" 
                                   WidthRequest="48" 
                                   HeightRequest="48" 
                                   CornerRadius="24" 
                                   BackgroundColor="#6366F1" 
                                   Padding="0"
                                   HasShadow="False">
                                <Label Text="ðŸŽ¯" 
                                       FontSize="26" 
                                       HorizontalOptions="Center" 
                                       VerticalOptions="Center"/>
                            </Frame>
                            
                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Margin="12,0,0,0">
                                <Label Text="New Habit" 
                                       FontSize="17" 
                                       FontAttributes="Bold"
                                       TextColor="#212121"/>
                                <Label Text="Track recurring activities" 
                                       FontSize="13" 
                                       TextColor="#757575"
                                       Margin="0,2,0,0"/>
                            </VerticalStackLayout>
                            
                            <Label Grid.Column="2" 
                                   Text="â€º" 
                                   FontSize="28" 
                                   TextColor="#BDBDBD"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Border>
                    <Border BackgroundColor="#F8F9FA"
                            Stroke="#E0E0E0"
                            StrokeThickness="1"
                            Padding="0">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12"/>
                        </Border.StrokeShape>
                        <Grid ColumnDefinitions="60,*,40" Padding="20,20">
                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding NavigateToTaskCommand}"/>
                            </Grid.GestureRecognizers>
                            
                            <Frame Grid.Column="0" 
                                   WidthRequest="48" 
                                   HeightRequest="48" 
                                   CornerRadius="24" 
                                   BackgroundColor="#10B981" 
                                   Padding="0"
                                   HasShadow="False">
                                <Label Text="âœ“" 
                                       FontSize="26" 
                                       HorizontalOptions="Center" 
                                       VerticalOptions="Center"/>
                            </Frame>
                            
                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Margin="12,0,0,0">
                                <Label Text="New Task" 
                                       FontSize="17" 
                                       FontAttributes="Bold"
                                       TextColor="#212121"/>
                                <Label Text="One-time to-do items" 
                                       FontSize="13" 
                                       TextColor="#757575"
                                       Margin="0,2,0,0"/>
                            </VerticalStackLayout>
                            
                            <Label Grid.Column="2" 
                                   Text="â€º" 
                                   FontSize="28" 
                                   TextColor="#BDBDBD"
                                   VerticalOptions="Center"/>
                        </Grid>
                    </Border>
                </VerticalStackLayout>
                
                <!-- Cancel button at bottom -->
                <Button Grid.Row="2"
                        Text="Cancel"
                        Command="{Binding CancelCommand}"
                        BackgroundColor="Transparent"
                        TextColor="#757575"
                        FontSize="16"
                        Margin="20,0,20,16"
                        HeightRequest="44"/>
            </Grid>
        </Border>
    </Grid>
</ContentPage>
